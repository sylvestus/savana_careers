"use strict";(self["webpackChunkerecruitment"]=self["webpackChunkerecruitment"]||[]).push([[220],{220:function(e,l,t){t.r(l),t.d(l,{default:function(){return i}});var a=t(3396);const o=(0,a._)("span",null,"Employment Types",-1),m={class:"dialog-footer"},p=(0,a._)("span",{class:"el-dropdown-link"},[(0,a._)("i",{class:"fas fa-ellipsis-v"})],-1);function n(e,l,t,n,d,s){const u=(0,a.up)("el-button"),i=(0,a.up)("el-input"),r=(0,a.up)("el-form-item"),y=(0,a.up)("el-col"),c=(0,a.up)("el-option"),f=(0,a.up)("el-select"),_=(0,a.up)("el-row"),h=(0,a.up)("el-form"),g=(0,a.up)("el-dialog"),w=(0,a.up)("el-table-column"),W=(0,a.up)("el-dropdown-item"),b=(0,a.up)("el-dropdown-menu"),V=(0,a.up)("el-dropdown"),v=(0,a.up)("el-table"),k=(0,a.up)("el-pagination"),E=(0,a.up)("el-card"),T=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.j4)(E,null,{header:(0,a.w5)((()=>[o,(0,a.Wm)(u,{type:"primary",plain:"",onClick:l[0]||(l[0]=e=>d.dialog=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)("Add New Employment Type")])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:d.dialog,"onUpdate:modelValue":l[9]||(l[9]=e=>d.dialog=e),title:"Add Employment Types"},{footer:(0,a.w5)((()=>[(0,a._)("span",m,[(0,a.Wm)(u,{onClick:l[7]||(l[7]=e=>d.dialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(u,{type:"primary",plain:"",onClick:l[8]||(l[8]=e=>s.submit("employment_type")),loading:d.loading},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["loading"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(h,{model:d.employment_type,size:"large",ref:"employment_type","label-position":"top",inline:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Employment type",prop:"employment_type",rules:[{required:!0,message:"Employment type is required",trigger:["blur","change"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:d.employment_type.employment_type,"onUpdate:modelValue":l[1]||(l[1]=e=>d.employment_type.employment_type=e),placeholder:"Enter employment type"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(y,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Pensionable"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:d.employment_type.pensionable,"onUpdate:modelValue":l[2]||(l[2]=e=>d.employment_type.pensionable=e),filterable:"",placeholder:"Select pensionable"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Yes",value:!0}),(0,a.Wm)(c,{label:"No",value:!1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(y,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Deduct NHIF"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:d.employment_type.deduct_nhif,"onUpdate:modelValue":l[3]||(l[3]=e=>d.employment_type.deduct_nhif=e),filterable:"",placeholder:"Select deduct nhif"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Yes",value:!0}),(0,a.Wm)(c,{label:"No",value:!1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(y,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Deduct NSSF"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:d.employment_type.deduct_nssf,"onUpdate:modelValue":l[4]||(l[4]=e=>d.employment_type.deduct_nssf=e),filterable:"",placeholder:"Select deduct nssf"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Yes",value:!0}),(0,a.Wm)(c,{label:"No",value:!1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(y,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Deduct Tax"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:d.employment_type.deduct_tax,"onUpdate:modelValue":l[5]||(l[5]=e=>d.employment_type.deduct_tax=e),filterable:"",placeholder:"Select deduct tax"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Yes",value:!0}),(0,a.Wm)(c,{label:"No",value:!1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(y,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:"Deduct Tax"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:d.employment_type.tax_type,"onUpdate:modelValue":l[6]||(l[6]=e=>d.employment_type.tax_type=e),filterable:"",placeholder:"Select tax type"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"PAYE",value:"Paye"}),(0,a.Wm)(c,{label:"WITHHOLDING",value:"Withholding"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(v,{ref:"tableRef",data:s.employment_types},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{prop:"employment_type",label:"Employment Type"}),(0,a.Wm)(w,{prop:"pensionable",label:"Pensionable",formatter:e.$helpers.formatBoolean},null,8,["formatter"]),(0,a.Wm)(w,{prop:"deduct_tax",label:"Deduct Tax",formatter:e.$helpers.formatBoolean},null,8,["formatter"]),(0,a.Wm)(w,{prop:"tax_type",label:"Tax Type"}),(0,a.Wm)(w,{prop:"deduct_nhif",label:"Deduct NHIF",formatter:e.$helpers.formatBoolean},null,8,["formatter"]),(0,a.Wm)(w,{prop:"deduct_nssf",label:"Deduct NSSF",formatter:e.$helpers.formatBoolean},null,8,["formatter"]),(0,a.Wm)(w,{prop:"action",label:"Action",width:"70"},{default:(0,a.w5)((e=>[(0,a.Wm)(V,null,{dropdown:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{onClick:l=>s.edit(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:2},1032,["onClick"]),(0,a.Wm)(W,{onClick:l=>s.deleteEmploymentType(e.row.id)},{default:(0,a.w5)((()=>[(0,a.Uk)("Delete")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[p])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[T,d.loading]]),(0,a.Wm)(k,{background:"",layout:"prev, pager, next",total:s.employment_types?s.employment_types.length:0},null,8,["total"])])),_:1})}var d={data(){return{dialog:!1,loading:!1,employment_type:{pensionable:!1,deduct_tax:!0,tax_type:"Paye",deduct_nhif:!0,deduct_nssf:!0}}},mounted(){this.$store.dispatch("company/getEmploymentTypes")},computed:{employment_types(){if(this.loading=!0,void 0!=this.$store.state.company.employment_types)return this.loading=!1,this.$store.state.company.employment_types}},methods:{edit(e){this.employment_type=e,this.dialog=!0},submit(e){this.$refs[e].validate((e=>{if(!e)return!1;this.loading=!0,this.$store.dispatch("company/saveEmploymentType",this.employment_type).then((e=>{this.employment_type={},this.$store.dispatch("company/getEmploymentTypes"),this.dialog=!1,this.loading=!1,this.$notify({title:"Success",message:e.data.message,type:"success"})}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))}))},deleteEmploymentType(e){confirm("Do you really want to delete this record?")&&this.$store.dispatch("company/deleteEmploymentType",e).then((e=>{this.$store.dispatch("company/getEmploymentTypes"),this.$notify({title:"Success",message:e.data.message,type:"success"})})).catch((e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))}}},s=t(89);const u=(0,s.Z)(d,[["render",n]]);var i=u}}]);
//# sourceMappingURL=220.8511f6d3.js.map