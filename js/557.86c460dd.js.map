{"version":3,"file":"js/557.86c460dd.js","mappings":"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","sources":["webpack://erecruitment/./src/views/organization/Departments.vue","webpack://erecruitment/./src/views/organization/Departments.vue?c053"],"sourcesContent":["<template>\n  <el-card>\n    <template #header>\n      <span>Departments</span>\n      <el-button type=\"primary\" plain @click=\"dialog = true\">Add New Department</el-button>\n    </template>\n    <el-dialog v-model=\"dialog\" title=\"Add Department\">\n      <el-form :model=\"department\" size=\"large\" ref=\"department\" label-position=\"top\" :inline=\"true\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"Department\" prop=\"department\" :rules=\"[\n              {\n                required: true,\n                message: 'Department is required',\n                trigger: ['blur', 'change'],\n              },\n            ]\">\n              <el-input v-model=\"department.department\" placeholder=\"Enter department\" /> </el-form-item></el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"Head of Department\">\n              <el-select v-model=\"department.hod\" placeholder=\"Enter head of department\">\n                <el-option v-for=\"employee in $store.state.dictionary.employees\" :key=\"employee\"\n                  :label=\"employee.full_name\" :value=\"employee.id\" />\n              </el-select> </el-form-item></el-col>\n        </el-row>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialog = false\">Cancel</el-button>\n          <el-button type=\"primary\" plain @click=\"submit('department')\" :loading=\"loading\">Save</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <el-table ref=\"tableRef\" :data=\"departments\" v-loading=\"loading\">\n      <el-table-column prop=\"department\" label=\"Department\" />\n      <el-table-column prop=\"hod_name\" label=\"Head of Department\" />\n      <el-table-column prop=\"employee_count\" label=\"No. of Employees\" />\n\n      <el-table-column prop=\"action\" label=\"Action\" width=\"70\">\n        <template #default=\"props\">\n          <el-dropdown>\n            <span class=\"el-dropdown-link\">\n              <i class=\"fas fa-ellipsis-v\"></i>\n            </span>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item @click=\"edit(props.row)\">Edit</el-dropdown-item>\n                <el-dropdown-item @click=\"deleteDepartment(props.row.id)\">Delete</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination background layout=\"prev, pager, next\" :total=\"departments ? departments.length : 0\" />\n  </el-card>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      dialog: false,\n      loading: false,\n      department: {},\n    };\n  },\n  mounted() {\n    this.$store.dispatch(\"dictionary/getDepartments\");\n  },\n  computed: {\n    departments() {\n      this.loading = true;\n      if (this.$store.state.dictionary.departments != undefined) {\n        this.loading = false;\n        return this.$store.state.dictionary.departments;\n      }\n    },\n  },\n  methods: {\n    edit(data) {\n      this.department = data;\n      this.dialog = true;\n    },\n    submit(validate) {\n      this.$refs[validate].validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          this.department.company_id = this.$store.state.auth.user.company_id;\n          this.$endpoint.saveDepartment(this.department).then(\n            (res) => {\n              this.loading = false;\n              this.department = {};\n              this.$store.dispatch(\"dictionary/getDepartments\");\n              this.dialog = false;\n              this.$notify({\n                title: \"Success\",\n                message: res.data.message,\n                type: \"success\",\n              });\n            },\n            (error) => {\n              this.loading = false;\n              this.message =\n                (error.response &&\n                  error.response.data &&\n                  error.response.data.message) ||\n                error.message ||\n                error.toString();\n              this.$notify({\n                title: \"Error\",\n                message: this.message,\n                type: \"error\",\n              });\n            }\n          );\n        } else {\n          return false;\n        }\n      });\n    },\n    deleteDepartment(id) {\n      if (confirm(\"Do you really want to delete this department?\")) {\n        this.$endpoint.deleteDepartment(id).then(\n          (res) => {\n            this.$store.dispatch(\"dictionary/getDepartments\");\n            this.$notify({\n              title: \"Success\",\n              message: res.data.message,\n              type: \"success\",\n            });\n          },\n          (error) => {\n            this.loading = false;\n            this.message =\n              (error.response &&\n                error.response.data &&\n                error.response.data.message) ||\n              error.message ||\n              error.toString();\n            this.$notify({\n              title: \"Error\",\n              message: this.message,\n              type: \"error\",\n            });\n          }\n        );\n      }\n    },\n  },\n};\n</script>","import { render } from \"./Departments.vue?vue&type=template&id=a38720c0\"\nimport script from \"./Departments.vue?vue&type=script&lang=js\"\nexport * from \"./Departments.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_el_card","header","_withCtx","_hoisted_1","_createVNode","_component_el_button","type","plain","onClick","_cache","$event","$data","dialog","_component_el_dialog","title","footer","_hoisted_2","$options","submit","loading","_component_el_form","model","department","size","ref","inline","_component_el_row","_component_el_col","span","_component_el_form_item","label","prop","rules","_component_el_input","placeholder","_component_el_select","hod","_createElementBlock","_Fragment","_renderList","_ctx","$store","state","dictionary","employees","employee","_component_el_option","key","full_name","value","id","_component_el_table","data","departments","_component_el_table_column","width","default","props","_component_el_dropdown","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","edit","row","deleteDepartment","_hoisted_3","_component_el_pagination","background","layout","total","length","mounted","this","dispatch","computed","undefined","methods","validate","$refs","valid","company_id","auth","user","$endpoint","saveDepartment","then","res","$notify","message","error","response","toString","confirm","__exports__","render"],"sourceRoot":""}