"use strict";(self["webpackChunkerecruitment"]=self["webpackChunkerecruitment"]||[]).push([[634],{7634:function(e,l,a){a.r(l),a.d(l,{default:function(){return u}});var m=a(3396);function t(e,l,a,t,o,d){const r=(0,m.up)("el-step"),u=(0,m.up)("el-steps"),n=(0,m.up)("el-col"),p=(0,m.up)("el-row"),s=(0,m.up)("el-input"),i=(0,m.up)("el-form-item"),y=(0,m.up)("el-date-picker"),_=(0,m.up)("el-option"),b=(0,m.up)("el-select"),f=(0,m.up)("el-button"),c=(0,m.up)("el-form"),g=(0,m.up)("el-card");return(0,m.wg)(),(0,m.j4)(g,{class:"p-4"},{default:(0,m.w5)((()=>[(0,m.Wm)(p,null,{default:(0,m.w5)((()=>[(0,m.Wm)(n,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,m.w5)((()=>[(0,m.Wm)(u,{active:o.step,simple:""},{default:(0,m.w5)((()=>[(0,m.Wm)(r,{title:"Personal"}),(0,m.Wm)(r,{title:"Employment"}),(0,m.Wm)(r,{title:"Payment"})])),_:1},8,["active"])])),_:1})])),_:1}),(0,m.Wm)(c,{model:o.employee,size:"large",ref:"employee","label-position":"top",inline:"","status-icon":""},{default:(0,m.w5)((()=>[1==o.step?((0,m.wg)(),(0,m.j4)(p,{key:0},{default:(0,m.w5)((()=>[(0,m.Wm)(n,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"First Name",prop:"first_name",rules:[{required:!0,message:"First name is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.first_name,"onUpdate:modelValue":l[0]||(l[0]=e=>o.employee.first_name=e),placeholder:"Enter first name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Middle Name"},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.middle_name,"onUpdate:modelValue":l[1]||(l[1]=e=>o.employee.middle_name=e),placeholder:"Enter middle name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Last Name",prop:"last_name",rules:[{required:!0,message:"Last name is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.last_name,"onUpdate:modelValue":l[2]||(l[2]=e=>o.employee.last_name=e),placeholder:"Enter last name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"ID Number",prop:"id_number",rules:[{required:!0,message:"ID number is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.id_number,"onUpdate:modelValue":l[3]||(l[3]=e=>o.employee.id_number=e),placeholder:"Enter ID number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Date of Birth"},{default:(0,m.w5)((()=>[(0,m.Wm)(y,{modelValue:o.employee.date_of_birth,"onUpdate:modelValue":l[4]||(l[4]=e=>o.employee.date_of_birth=e),type:"date",placeholder:"Enter date of birth",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Gender"},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.gender,"onUpdate:modelValue":l[5]||(l[5]=e=>o.employee.gender=e),filterable:"",placeholder:"Select gender"},{default:(0,m.w5)((()=>[(0,m.Wm)(_,{label:"Male",value:"male"}),(0,m.Wm)(_,{label:"Female",value:"female"}),(0,m.Wm)(_,{label:"Other",value:"other"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Marital Status"},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.marital_status,"onUpdate:modelValue":l[6]||(l[6]=e=>o.employee.marital_status=e),filterable:"",placeholder:"Select marital status"},{default:(0,m.w5)((()=>[(0,m.Wm)(_,{label:"Single",value:"single"}),(0,m.Wm)(_,{label:"Married",value:"married"}),(0,m.Wm)(_,{label:"Divorced",value:"divorced"}),(0,m.Wm)(_,{label:"Window",value:"window"}),(0,m.Wm)(_,{label:"Windower",value:"windower"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Country",prop:"country",rules:[{required:!0,message:"Country is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.country,"onUpdate:modelValue":l[7]||(l[7]=e=>o.employee.country=e),filterable:"",placeholder:"Select country"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.$store.state.dictionary.countries,(e=>((0,m.wg)(),(0,m.j4)(_,{key:e,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Phone Number",prop:"phone",rules:[{required:!0,message:"Phone number is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.phone,"onUpdate:modelValue":l[8]||(l[8]=e=>o.employee.phone=e),placeholder:"Enter phone number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Email Address",prop:"email",rules:[{required:!0,message:"Email address is required",trigger:["blur"]},{type:"email",message:"Please enter valid address",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.email,"onUpdate:modelValue":l[9]||(l[9]=e=>o.employee.email=e),placeholder:"Enter email address"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"KRA PIN"},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.kra_pin,"onUpdate:modelValue":l[10]||(l[10]=e=>o.employee.kra_pin=e),placeholder:"Enter kra pin"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"NHIF Number"},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.nhif_number,"onUpdate:modelValue":l[11]||(l[11]=e=>o.employee.nhif_number=e),placeholder:"Enter NHIF number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"NSSF Number"},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.nssf_number,"onUpdate:modelValue":l[12]||(l[12]=e=>o.employee.nssf_number=e),placeholder:"Enter NSSF number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):2==o.step?((0,m.wg)(),(0,m.j4)(p,{key:1},{default:(0,m.w5)((()=>[(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Job Title",prop:"job_title_id",rules:[{required:!0,message:"Job title is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.job_title_id,"onUpdate:modelValue":l[13]||(l[13]=e=>o.employee.job_title_id=e),filterable:"",placeholder:"Select job title"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.$store.state.company.job_titles,(e=>((0,m.wg)(),(0,m.j4)(_,{key:e,label:e.job_title,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Employee Number",prop:"employee_number",rules:[{required:!0,message:"Employee number is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.employee_number,"onUpdate:modelValue":l[14]||(l[14]=e=>o.employee.employee_number=e),placeholder:"Enter employee number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Employment Type",prop:"employment_type_id",rules:[{required:!0,message:"Employment type is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.employment_type_id,"onUpdate:modelValue":l[15]||(l[15]=e=>o.employee.employment_type_id=e),filterable:"",placeholder:"Select employment type"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.$store.state.company.employment_types,(e=>((0,m.wg)(),(0,m.j4)(_,{key:e,label:e.employment_type,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{prop:"employment_start_date",label:"Employment Start Date"},{default:(0,m.w5)((()=>[(0,m.Wm)(y,{modelValue:o.employee.employment_start_date,"onUpdate:modelValue":l[16]||(l[16]=e=>o.employee.employment_start_date=e),type:"date",placeholder:"Enter employment start date",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Work Station"},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.work_station_id,"onUpdate:modelValue":l[17]||(l[17]=e=>o.employee.work_station_id=e),filterable:"",placeholder:"Work Station"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.$store.state.company.company_branches,(e=>((0,m.wg)(),(0,m.j4)(_,{key:e,label:e.company_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Department",prop:"department_id",rules:[{required:!0,message:"Department is required",trigger:["blur"]}]},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.department_id,"onUpdate:modelValue":l[18]||(l[18]=e=>o.employee.department_id=e),filterable:"",placeholder:"Select department"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.$store.state.dictionary.departments,(e=>((0,m.wg)(),(0,m.j4)(_,{key:e,label:e.department,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})):3==o.step?((0,m.wg)(),(0,m.j4)(p,{key:2},{default:(0,m.w5)((()=>[(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Salary"},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.basic_salary,"onUpdate:modelValue":l[19]||(l[19]=e=>o.employee.basic_salary=e),placeholder:"Enter basic salary"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Account Number"},{default:(0,m.w5)((()=>[(0,m.Wm)(s,{modelValue:o.employee.account_number,"onUpdate:modelValue":l[20]||(l[20]=e=>o.employee.account_number=e),placeholder:"Enter account number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:"Bank Name",prop:"bank"},{default:(0,m.w5)((()=>[(0,m.Wm)(b,{modelValue:o.employee.bank,"onUpdate:modelValue":l[21]||(l[21]=e=>o.employee.bank=e),filterable:"",placeholder:"Select bank"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(d.banks,(e=>((0,m.wg)(),(0,m.j4)(_,{key:e.providerID,label:e.providerName,value:e.providerName},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,m.kq)("",!0),(0,m.Wm)(p,{style:{float:"right"}},{default:(0,m.w5)((()=>[(0,m.Wm)(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{label:""},{default:(0,m.w5)((()=>[o.step>1?((0,m.wg)(),(0,m.j4)(f,{key:0,type:"primary",plain:"",onClick:l[22]||(l[22]=l=>e.back())},{default:(0,m.w5)((()=>[(0,m.Uk)("Back")])),_:1})):(0,m.kq)("",!0),3==o.step?((0,m.wg)(),(0,m.j4)(f,{key:1,type:"primary",plain:"",onClick:l[23]||(l[23]=l=>e.submit("employee")),loading:o.loading},{default:(0,m.w5)((()=>[(0,m.Uk)("Save")])),_:1},8,["loading"])):((0,m.wg)(),(0,m.j4)(f,{key:2,type:"primary",plain:"",onClick:l[24]||(l[24]=e=>d.next("employee"))},{default:(0,m.w5)((()=>[(0,m.Uk)("Next")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}var o={data(){return{props:["id"],loading:!1,message:"",step:1,employee:{},bank_branches:[]}},computed:{banks(){if(void 0!=this.$store.state.dictionary.banks){var e=this.$store.state.dictionary.banks.filter((function(e){return"BANK"==e.category}));return e}}},mounted(){this.$store.dispatch("dictionary/getDepartments"),this.$store.dispatch("dictionary/getCountries"),this.$store.dispatch("dictionary/getBanks"),this.$store.dispatch("company/getCompanyBranches"),this.$store.dispatch("company/getJobTitles"),this.$store.dispatch("company/getEmploymentTypes"),this.getProfile()},methods:{next(e){this.$refs[e].validate((e=>{if(!e)return!1;this.step++}))},getProfile(){this.$store.dispatch("company/getEmployeeProfile",this.$route.params.id),void 0!=this.$store.state.company.employee_profile&&(this.employee=this.$store.state.company.employee_profile)}}},d=a(89);const r=(0,d.Z)(o,[["render",t]]);var u=r}}]);
//# sourceMappingURL=634.812115d5.js.map