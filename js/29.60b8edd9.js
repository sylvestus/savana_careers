"use strict";(self["webpackChunkerecruitment"]=self["webpackChunkerecruitment"]||[]).push([[29],{3029:function(e,l,t){t.r(l),t.d(l,{default:function(){return x}});var a=t(3396),o=t(7139);const s=(0,a._)("span",null,"Hired Candidates",-1),m={class:"dialog-footer"},i=(0,a._)("i",{class:"fas fa-cloud el-icon--upload"},null,-1),n=(0,a._)("div",{class:"el-upload__text"},[(0,a.Uk)(" Drop file here or "),(0,a._)("em",null,"click to upload")],-1),d={class:"el-upload__tip"},r=["href"],u=(0,a._)("span",null,[(0,a._)("i",{class:"bx bx-download"}),(0,a.Uk)("Click here to download employee data template")],-1),p=[u],c={style:{display:"flex","align-items":"center"}},y={style:{"margin-left":"10px"}},_={class:"text-black"},h=(0,a._)("br",null,null,-1),b=(0,a._)("br",null,null,-1),g={class:"text-success"},f=(0,a._)("i",{class:"fas fa-ellipsis-v el-icon--right"},null,-1);function w(e,l,t,u,w,W){const k=(0,a.up)("el-button"),V=(0,a.up)("el-step"),x=(0,a.up)("el-steps"),v=(0,a.up)("el-col"),U=(0,a.up)("el-row"),E=(0,a.up)("el-input"),$=(0,a.up)("el-form-item"),C=(0,a.up)("el-date-picker"),D=(0,a.up)("el-option"),S=(0,a.up)("el-select"),j=(0,a.up)("el-form"),N=(0,a.up)("el-dialog"),A=(0,a.up)("el-upload"),q=(0,a.up)("el-progress"),F=(0,a.up)("el-tab-pane"),P=(0,a.up)("el-tabs"),H=(0,a.up)("el-avatar"),Y=(0,a.up)("router-link"),K=(0,a.up)("el-table-column"),B=(0,a.up)("el-dropdown-item"),T=(0,a.up)("el-dropdown-menu"),z=(0,a.up)("el-dropdown"),I=(0,a.up)("el-table"),O=(0,a.up)("el-pagination"),J=(0,a.up)("el-card"),M=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.j4)(J,null,{header:(0,a.w5)((()=>[s,(0,a._)("span",null,[(0,a.Wm)(k,{type:"primary",plain:"",onClick:l[0]||(l[0]=e=>w.dialogUpload=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Bulk Upload")])),_:1}),(0,a.Wm)(k,{type:"primary",plain:"",onClick:l[1]||(l[1]=e=>w.dialog=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)("Add Candidate")])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(N,{modelValue:w.dialog,"onUpdate:modelValue":l[27]||(l[27]=e=>w.dialog=e),title:"Add Candidate","before-close":W.handleClose,width:"65%"},{footer:(0,a.w5)((()=>[(0,a._)("span",m,[1==w.step?((0,a.wg)(),(0,a.j4)(k,{key:0,onClick:W.handleClose},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1},8,["onClick"])):((0,a.wg)(),(0,a.j4)(k,{key:1,type:"primary",plain:"",onClick:l[24]||(l[24]=e=>W.back())},{default:(0,a.w5)((()=>[(0,a.Uk)("Back")])),_:1})),3==w.step?((0,a.wg)(),(0,a.j4)(k,{key:2,type:"primary",plain:"",onClick:l[25]||(l[25]=e=>W.submit("employee")),loading:w.loading},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["loading"])):((0,a.wg)(),(0,a.j4)(k,{key:3,type:"primary",plain:"",onClick:l[26]||(l[26]=e=>W.next("employee"))},{default:(0,a.w5)((()=>[(0,a.Uk)("Next")])),_:1}))])])),default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{active:w.step,simple:""},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{title:"Personal"}),(0,a.Wm)(V,{title:"Employment"}),(0,a.Wm)(V,{title:"Payment"})])),_:1},8,["active"])])),_:1})])),_:1}),(0,a.Wm)(j,{model:w.employee,size:"large",ref:"employee","label-position":"top",inline:"","status-icon":""},{default:(0,a.w5)((()=>[1==w.step?((0,a.wg)(),(0,a.j4)(U,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"First Name",prop:"first_name",rules:[{required:!0,message:"First name is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.first_name,"onUpdate:modelValue":l[2]||(l[2]=e=>w.employee.first_name=e),placeholder:"Enter first name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Middle Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.middle_name,"onUpdate:modelValue":l[3]||(l[3]=e=>w.employee.middle_name=e),placeholder:"Enter middle name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Last Name",prop:"last_name",rules:[{required:!0,message:"Last name is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.last_name,"onUpdate:modelValue":l[4]||(l[4]=e=>w.employee.last_name=e),placeholder:"Enter last name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"ID Number",prop:"id_number",rules:[{required:!0,message:"ID number is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.id_number,"onUpdate:modelValue":l[5]||(l[5]=e=>w.employee.id_number=e),type:"number",placeholder:"Enter ID number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Date of Birth"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{modelValue:w.employee.date_of_birth,"onUpdate:modelValue":l[6]||(l[6]=e=>w.employee.date_of_birth=e),type:"date",placeholder:"Enter date of birth",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.gender,"onUpdate:modelValue":l[7]||(l[7]=e=>w.employee.gender=e),filterable:"",placeholder:"Select gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{label:"Male",value:"male"}),(0,a.Wm)(D,{label:"Female",value:"female"}),(0,a.Wm)(D,{label:"Other",value:"other"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Marital Status"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.marital_status,"onUpdate:modelValue":l[8]||(l[8]=e=>w.employee.marital_status=e),filterable:"",placeholder:"Select marital status"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{label:"Single",value:"single"}),(0,a.Wm)(D,{label:"Married",value:"married"}),(0,a.Wm)(D,{label:"Divorced",value:"divorced"}),(0,a.Wm)(D,{label:"Window",value:"window"}),(0,a.Wm)(D,{label:"Windower",value:"windower"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Country",prop:"country",rules:[{required:!0,message:"Country is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.country,"onUpdate:modelValue":l[9]||(l[9]=e=>w.employee.country=e),filterable:"",placeholder:"Select country"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.dictionary.countries,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Phone Number",prop:"phone",rules:[{required:!0,message:"Phone number is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.phone,"onUpdate:modelValue":l[10]||(l[10]=e=>w.employee.phone=e),type:"number",placeholder:"Enter phone number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Email Address",prop:"email",rules:[{required:!0,message:"Email address is required",trigger:["blur"]},{type:"email",message:"Please enter valid address",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.email,"onUpdate:modelValue":l[11]||(l[11]=e=>w.employee.email=e),type:"email",placeholder:"Enter email address"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"KRA PIN"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.kra_pin,"onUpdate:modelValue":l[12]||(l[12]=e=>w.employee.kra_pin=e),placeholder:"Enter kra pin"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"NHIF Number"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.nhif_number,"onUpdate:modelValue":l[13]||(l[13]=e=>w.employee.nhif_number=e),type:"number",placeholder:"Enter NHIF number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"NSSF Number"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.nssf_number,"onUpdate:modelValue":l[14]||(l[14]=e=>w.employee.nssf_number=e),type:"number",placeholder:"Enter NSSF number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):2==w.step?((0,a.wg)(),(0,a.j4)(U,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Job Title",prop:"job_title_id",rules:[{required:!0,message:"Job title is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.job_title_id,"onUpdate:modelValue":l[15]||(l[15]=e=>w.employee.job_title_id=e),filterable:"",placeholder:"Select job title"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.company.job_titles,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e,label:e.job_title,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Employee Number",prop:"employee_number"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.employee_number,"onUpdate:modelValue":l[16]||(l[16]=e=>w.employee.employee_number=e),placeholder:"Enter employee number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Employment Type",prop:"employment_type_id",rules:[{required:!0,message:"Employment type is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.employment_type_id,"onUpdate:modelValue":l[17]||(l[17]=e=>w.employee.employment_type_id=e),filterable:"",placeholder:"Select employment type"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.company.employment_types,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e,label:e.employment_type,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{prop:"employment_start_date",label:"Employment Start Date"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{modelValue:w.employee.employment_start_date,"onUpdate:modelValue":l[18]||(l[18]=e=>w.employee.employment_start_date=e),type:"date",placeholder:"Enter employment start date",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Employer's Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.work_station_id,"onUpdate:modelValue":l[19]||(l[19]=e=>w.employee.work_station_id=e),filterable:"",placeholder:"Employer's Name"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.company.company_branches,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e,label:e.company_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Department",prop:"department_id"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.department_id,"onUpdate:modelValue":l[20]||(l[20]=e=>w.employee.department_id=e),filterable:"",placeholder:"Select department"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.dictionary.departments,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e,label:e.department,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})):3==w.step?((0,a.wg)(),(0,a.j4)(U,{key:2},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Basic Salary"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.basic_salary,"onUpdate:modelValue":l[21]||(l[21]=e=>w.employee.basic_salary=e),type:"number",placeholder:"Enter basic salary"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Bank Name",prop:"bank"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{modelValue:w.employee.bank,"onUpdate:modelValue":l[22]||(l[22]=e=>w.employee.bank=e),filterable:"",placeholder:"Select bank"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(W.banks,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e.id,label:e.bankname,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:"Account Number",prop:"account_number"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:w.employee.account_number,"onUpdate:modelValue":l[23]||(l[23]=e=>w.employee.account_number=e),placeholder:"Account number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1},8,["model"])])),_:1},8,["modelValue","before-close"]),(0,a.Wm)(N,{modelValue:w.dialogUpload,"onUpdate:modelValue":l[28]||(l[28]=e=>w.dialogUpload=e),title:"Upload Bulk Employees","before-close":W.handleClose},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{model:w.employee,size:"large",ref:"employee","label-position":"top",inline:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{"auto-upload":!1,"on-change":W.handleFileUpload,drag:""},{tip:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("a",{href:e.$helpers.BASE_URL+"templates/batch-employees-template.xlsx",target:"_blank"},p,8,r)])])),default:(0,a.w5)((()=>[i,n])),_:1},8,["on-change"]),w.loading?((0,a.wg)(),(0,a.j4)(q,{key:0,percentage:50,status:"warning",indeterminate:!0})):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","before-close"]),(0,a.Wm)(P,{type:"card",modelValue:w.tab,"onUpdate:modelValue":l[29]||(l[29]=e=>w.tab=e),onTabClick:W.filterElements},{default:(0,a.w5)((()=>[(0,a.Wm)(F,{label:"Hired ("+w.hired_count+")",name:"Hired"},null,8,["label"]),(0,a.Wm)(F,{label:"On Probation ("+w.probation_count+")",name:"Probation"},null,8,["label"]),(0,a.Wm)(F,{label:"On Contract ("+w.probation_count+")",name:"Contract"},null,8,["label"]),(0,a.Wm)(F,{label:"On Notice Of Exit ("+w.notice_count+")",name:"Notice"},null,8,["label"]),(0,a.Wm)(F,{label:"Exited ("+w.exited_count+")",name:"Exited"},null,8,["label"]),(0,a.Wm)(F,{label:"Archived ("+w.archived_count+")",name:"Archived"},null,8,["label"]),(0,a.Wm)(F,{label:"All ("+w.all_count+")",name:"All"},null,8,["label"])])),_:1},8,["modelValue","onTabClick"]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(I,{data:W.employees,ref:"elTable"},{default:(0,a.w5)((()=>[(0,a.Wm)(K,{prop:"full_name",label:"Employee",width:"250"},{default:(0,a.w5)((l=>[(0,a.Wm)(Y,{to:"#",onClick:e=>W.edit(l.row)},{default:(0,a.w5)((()=>[(0,a._)("div",c,[l.row.profile_photo?((0,a.wg)(),(0,a.j4)(H,{key:0,src:l.row.profile_photo},null,8,["src"])):((0,a.wg)(),(0,a.j4)(H,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$helpers.getInitials(l.row.first_name+" "+l.row.last_name)),1)])),_:2},1024)),(0,a._)("span",y,[(0,a._)("span",_,[(0,a.Uk)((0,o.zw)(l.row.full_name),1),h]),(0,a.Uk)((0,o.zw)(l.row.employee_number),1)])])])),_:2},1032,["onClick"])])),_:1}),(0,a.Wm)(K,{prop:"job_title",label:"Job Title",width:"200"},{default:(0,a.w5)((e=>[(0,a._)("span",null,(0,o.zw)(e.row.job_title),1),b,(0,a._)("span",g,(0,o.zw)(e.row.employment_type),1)])),_:1}),(0,a.Wm)(K,{prop:"work_station",label:"Client"}),(0,a.Wm)(K,{prop:"employment_start_date",label:"Start Date",formatter:e.$helpers.formatDate},null,8,["formatter"]),(0,a.Wm)(K,{prop:"status",label:"Status"}),(0,a.Wm)(K,{prop:"action",label:"Action",width:"70"},{default:(0,a.w5)((e=>[(0,a.Wm)(z,null,{dropdown:(0,a.w5)((()=>[(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{onClick:l=>W.edit(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit Candidate")])),_:2},1032,["onClick"]),(0,a.Wm)(B,{onClick:l=>W.activate(e.row,"Probation")},{default:(0,a.w5)((()=>[(0,a.Uk)("Set on Probation")])),_:2},1032,["onClick"]),(0,a.Wm)(B,{onClick:l=>W.activate(e.row,"Notice")},{default:(0,a.w5)((()=>[(0,a.Uk)("Set on Notice")])),_:2},1032,["onClick"]),(0,a.Wm)(B,{onClick:l=>W.activate(e.row,"Archived")},{default:(0,a.w5)((()=>[(0,a.Uk)("Archive")])),_:2},1032,["onClick"]),(0,a.Wm)(B,{onClick:l=>W.activate(e.row,"Exited")},{default:(0,a.w5)((()=>[(0,a.Uk)("Exit Candidate")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[f])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[M,w.loading]]),(0,a.Wm)(O,{background:"",layout:"prev, pager, next",total:W.employees?W.employees.length:0},null,8,["total"])])),_:1})}var W={data(){return{filter:"",dialog:!1,pay_element_dialog:!1,listview:!0,dialogUpload:!1,loading:!1,step:1,tab:"Hired",hired_count:0,notice_count:0,probation_count:0,leave_count:0,exited_count:0,archived_count:0,all_count:0,employee:{country:"Kenya",status:"Active",date_of_birth:new Date((new Date).setFullYear((new Date).getFullYear()-18)),employment_start_date:new Date},file:""}},computed:{banks(){if(void 0!=this.$store.state.dictionary.banks){var e=this.$store.state.dictionary.banks.filter((function(e){return"BANK"==e.category}));return e}},employees(){var e=this.tab;if(this.loading=!0,void 0!=this.$store.state.dictionary.employees){var l=this.$store.state.dictionary.employees.filter((function(e){return"Hired"==e.status})),t=this.$store.state.dictionary.employees.filter((function(e){return"Notice"==e.status})),a=this.$store.state.dictionary.employees.filter((function(e){return"Probation"==e.status})),o=this.$store.state.dictionary.employees.filter((function(e){return"Exited"==e.status})),s=this.$store.state.dictionary.employees.filter((function(e){return"Archived"==e.status}));if(this.hired_count=l.length,this.notice_count=t.length,this.probation_count=a.length,this.exited_count=o.length,this.archived_count=s.length,this.all_count=this.$store.state.dictionary.employees.length,"All"==this.tab)return this.loading=!1,this.$store.state.dictionary.employees;var m=this.$store.state.dictionary.employees.filter((function(l){return l.status==e}));return this.loading=!1,m}}},mounted(){this.$store.dispatch("dictionary/getDepartments"),this.$store.dispatch("dictionary/getCountries"),this.$store.dispatch("dictionary/getEmployees"),this.$store.dispatch("company/getCompanyBranches"),this.$store.dispatch("company/getJobTitles"),this.$store.dispatch("company/getEmploymentTypes")},methods:{next(e){this.$refs[e].validate((e=>{if(!e)return!1;this.step++}))},back(){this.step--},filterElements(e){this.tab=e.props.name},submit(e){this.$refs[e].validate((e=>{if(!e)return!1;{this.step=3,this.loading=!0;let e=this.employee;e.company_id=this.$store.state.auth.user.company_id,this.$endpoint.savePersonnel(e).then((e=>{this.loading=!1,this.$store.dispatch("dictionary/getEmployees"),this.step=1,this.employee={},this.employee={country:"Kenya",status:"Active",date_of_birth:new Date((new Date).setFullYear((new Date).getFullYear()-18)),employment_start_date:new Date},this.dialog=!1,this.$notify({title:"Success",message:e.data.message,type:"success"})}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))}}))},edit(e){this.employee=e,this.dialog=!0},activate(e,l){this.employee=e,this.employee.status=l,this.$endpoint.savePersonnel(this.employee).then((e=>{this.loading=!1,this.$store.dispatch("dictionary/getEmployees"),this.step=1,this.employee={},this.employee={country:"Kenya",status:"Active",date_of_birth:new Date((new Date).setFullYear((new Date).getFullYear()-18)),employment_start_date:new Date},this.dialog=!1,this.$notify({title:"Success",message:e.data.message,type:"success"})}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))},deletePersonnel(e){confirm("Do you really want to delete this record?")&&this.$endpoint.deletePersonnel(e).then((e=>{this.$store.dispatch("dictionary/getEmployees"),this.$notify({title:"Success",message:e.data.message,type:"success"})}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))},handleFileUpload(e){this.loading=!0,this.file=e.raw;let l=new FormData;l.append("file",this.file),this.$endpoint.batchEmployees(this.$store.state.auth.user.company_id,l).then((e=>{this.$store.dispatch("dictionary/getEmployees"),this.loading=!1,this.dialogUpload=!1,this.$notify({title:"Success",message:e.data.message,type:"success"})}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))},handleClose(){this.employee={},this.dialog=!1,this.dialogUpload=!1}}},k=t(89);const V=(0,k.Z)(W,[["render",w]]);var x=V}}]);
//# sourceMappingURL=29.60b8edd9.js.map