"use strict";(self["webpackChunkerecruitment"]=self["webpackChunkerecruitment"]||[]).push([[113],{4113:function(e,l,t){t.r(l),t.d(l,{default:function(){return f}});var a=t(3396),o=t(7139);const i=(0,a._)("span",null,"Job Listing",-1),s={class:"dialog-footer"},n={style:{display:"flex","align-items":"center"}},r={style:{"margin-left":"10px"}},d=(0,a._)("br",null,null,-1),u=(0,a._)("span",{class:"el-dropdown-link"},[(0,a._)("i",{class:"fas fa-ellipsis-v"})],-1);function p(e,l,t,p,m,c){const _=(0,a.up)("el-option"),y=(0,a.up)("el-select"),w=(0,a.up)("el-col"),g=(0,a.up)("el-button"),f=(0,a.up)("el-row"),b=(0,a.up)("el-form-item"),h=(0,a.up)("el-input"),W=(0,a.up)("el-date-picker"),k=(0,a.up)("ckeditor"),j=(0,a.up)("el-form"),v=(0,a.up)("el-dialog"),U=(0,a.up)("el-avatar"),C=(0,a.up)("router-link"),V=(0,a.up)("el-table-column"),$=(0,a.up)("el-dropdown-item"),S=(0,a.up)("el-dropdown-menu"),J=(0,a.up)("el-dropdown"),z=(0,a.up)("el-table"),D=(0,a.up)("el-pagination"),E=(0,a.up)("el-card"),A=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.j4)(E,null,{header:(0,a.w5)((()=>[i,(0,a._)("span",null,[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{span:14},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.company_id,"onUpdate:modelValue":l[0]||(l[0]=e=>m.job_title.company_id=e),onChange:l[1]||(l[1]=e=>c.getAllJobs()),filterable:"",placeholder:"Filter by client"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.company.company_branches,(e=>((0,a.wg)(),(0,a.j4)(_,{key:e,label:e.company_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"primary",class:"ms-2",plain:"",onClick:l[2]||(l[2]=e=>m.dialog=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)("Add New Job")])),_:1})])),_:1})])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(v,{modelValue:m.dialog,"onUpdate:modelValue":l[16]||(l[16]=e=>m.dialog=e),title:"Add Job",width:"65%"},{footer:(0,a.w5)((()=>[(0,a._)("span",s,[(0,a.Wm)(g,{onClick:l[14]||(l[14]=e=>m.dialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(g,{type:"primary",plain:"",onClick:l[15]||(l[15]=e=>c.submit("job_title")),loading:m.loading},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["loading"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(j,{model:m.job_title,size:"large",ref:"job_title","label-position":"top",inline:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Client",prop:"company_id"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.company_id,"onUpdate:modelValue":l[3]||(l[3]=e=>m.job_title.company_id=e),filterable:"",placeholder:"Select client"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.company.company_branches,(e=>((0,a.wg)(),(0,a.j4)(_,{key:e,label:e.company_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Position",prop:"job_title",rules:[{required:!0,message:"Job title is required",trigger:["blur","change"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:m.job_title.job_title,"onUpdate:modelValue":l[4]||(l[4]=e=>m.job_title.job_title=e),placeholder:"Enter job title"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Contract Type",prop:"job_type",rules:[{required:!0,message:"Job type is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.job_type,"onUpdate:modelValue":l[5]||(l[5]=e=>m.job_title.job_type=e),filterable:"",placeholder:"Select job type"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.company.employment_types,(e=>((0,a.wg)(),(0,a.j4)(_,{key:e,label:e.employment_type,value:e.employment_type},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Industry",prop:"industry",rules:[{required:!0,message:"Job industry is required",trigger:["blur"]}]},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.industry,"onUpdate:modelValue":l[6]||(l[6]=e=>m.job_title.industry=e),placeholder:"Select job industry",filterable:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.dictionary.industries,(e=>((0,a.wg)(),(0,a.j4)(_,{value:e.industry,key:e.industry,label:e.industry},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Career Level",prop:"career_level"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.career_level,"onUpdate:modelValue":l[7]||(l[7]=e=>m.job_title.career_level=e),filterable:"",placeholder:"Select career level"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(["Entry-level","Intermediate","Mid-level","Senior or executive-level"],(e=>(0,a.Wm)(_,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Years of Experience"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.experience,"onUpdate:modelValue":l[8]||(l[8]=e=>m.job_title.experience=e),placeholder:"Select required years of experience",filterable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{value:"0"},{default:(0,a.w5)((()=>[(0,a.Uk)("No Experience/Less than 1 year")])),_:1}),(0,a.Wm)(_,{value:"1 year"},{default:(0,a.w5)((()=>[(0,a.Uk)("1 year")])),_:1}),(0,a.Wm)(_,{value:"2 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("2 years")])),_:1}),(0,a.Wm)(_,{value:"3 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("3 years")])),_:1}),(0,a.Wm)(_,{value:"4 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("4 years")])),_:1}),(0,a.Wm)(_,{value:"5 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("5 years")])),_:1}),(0,a.Wm)(_,{value:"6 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("6 years")])),_:1}),(0,a.Wm)(_,{value:"7 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("7 years")])),_:1}),(0,a.Wm)(_,{value:"8 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("8 years")])),_:1}),(0,a.Wm)(_,{value:"9 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("9 years")])),_:1}),(0,a.Wm)(_,{value:"10 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("10 years")])),_:1}),(0,a.Wm)(_,{value:"11 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("11 years")])),_:1}),(0,a.Wm)(_,{value:"12 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("12 years")])),_:1}),(0,a.Wm)(_,{value:"13 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("13 years")])),_:1}),(0,a.Wm)(_,{value:"14 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("14 years")])),_:1}),(0,a.Wm)(_,{value:"15 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("15 years")])),_:1}),(0,a.Wm)(_,{value:"16 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("16 years")])),_:1}),(0,a.Wm)(_,{value:"17 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("17 years")])),_:1}),(0,a.Wm)(_,{value:"18 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("18 years")])),_:1}),(0,a.Wm)(_,{value:"19 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("19 years")])),_:1}),(0,a.Wm)(_,{value:"20 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("20 years")])),_:1}),(0,a.Wm)(_,{value:"More than 20 years"},{default:(0,a.w5)((()=>[(0,a.Uk)("More than 20 years")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Country",prop:"country"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:m.job_title.country,"onUpdate:modelValue":l[9]||(l[9]=e=>m.job_title.country=e),filterable:"",placeholder:"Select country"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.dictionary.countries,(e=>((0,a.wg)(),(0,a.j4)(_,{key:e,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Location",prop:"location"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:m.job_title.location,"onUpdate:modelValue":l[10]||(l[10]=e=>m.job_title.location=e),placeholder:"Enter location"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Application Deadline"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{modelValue:m.job_title.application_deadline,"onUpdate:modelValue":l[11]||(l[11]=e=>m.job_title.application_deadline=e),type:"date",placeholder:"Enter application deadline",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:24},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Job Description",prop:"description"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{editor:m.editor,config:m.editorConfig,modelValue:m.job_title.description,"onUpdate:modelValue":l[12]||(l[12]=e=>m.job_title.description=e),placeholder:"Enter description"},null,8,["editor","config","modelValue"])])),_:1})])),_:1}),(0,a.Wm)(w,{span:24},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Required Skills",prop:"skills"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{editor:m.editor,config:m.editorConfig,modelValue:m.job_title.skills,"onUpdate:modelValue":l[13]||(l[13]=e=>m.job_title.skills=e),placeholder:"Enter required skills"},null,8,["editor","config","modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(z,{ref:"tableRef",data:m.jobs},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{prop:"client",label:"Client",width:"250"},{default:(0,a.w5)((t=>[(0,a.Wm)(C,{to:"#",onClick:l[17]||(l[17]=e=>m.dialog=!0)},{default:(0,a.w5)((()=>[(0,a._)("div",n,[t.row.company_logo?((0,a.wg)(),(0,a.j4)(U,{key:0,src:t.row.company_logo},null,8,["src"])):((0,a.wg)(),(0,a.j4)(U,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$helpers.getInitials(t.row.client)),1)])),_:2},1024)),(0,a._)("span",r,[(0,a.Uk)((0,o.zw)(t.row.client),1),d])])])),_:2},1024)])),_:1}),(0,a.Wm)(V,{prop:"job_title",label:"Position"}),(0,a.Wm)(V,{prop:"applications",label:"Applications"},{default:(0,a.w5)((e=>[(0,a.Wm)(C,{to:"#",onClick:l=>c.application(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.row.applications),1)])),_:2},1032,["onClick"])])),_:1}),(0,a.Wm)(V,{prop:"shortlisted",label:"Shortlisted"},{default:(0,a.w5)((e=>[(0,a.Wm)(C,{to:"#",onClick:l=>c.application(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.row.shortlisted),1)])),_:2},1032,["onClick"])])),_:1}),(0,a.Wm)(V,{prop:"interviewed",label:"Interviewed"},{default:(0,a.w5)((e=>[(0,a.Wm)(C,{to:"#",onClick:l=>c.application(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.row.interviewed),1)])),_:2},1032,["onClick"])])),_:1}),(0,a.Wm)(V,{prop:"hired",label:"Hired"},{default:(0,a.w5)((e=>[(0,a.Wm)(C,{to:"#",onClick:l=>c.application(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.row.hired),1)])),_:2},1032,["onClick"])])),_:1}),(0,a.Wm)(V,{prop:"application_deadline",label:"Deadline",formatter:e.$helpers.formatDate},null,8,["formatter"]),(0,a.Wm)(V,{prop:"status",label:"Status"}),(0,a.Wm)(V,{prop:"action",label:"Action",width:"70"},{default:(0,a.w5)((e=>[(0,a.Wm)(J,null,{dropdown:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{onClick:l=>c.application(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("Applications")])),_:2},1032,["onClick"]),(0,a.Wm)($,{onClick:l=>c.edit(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:2},1032,["onClick"]),(0,a.Wm)($,{onClick:l=>c.deleteJobTitle(e.row.id)},{default:(0,a.w5)((()=>[(0,a.Uk)("Delete")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[u])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[A,m.loading]]),(0,a.Wm)(D,{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[10,25,50,100],total:m.pagination.meta?m.pagination.meta.total:0,onSizeChange:c.handleSizeChange,onCurrentChange:c.handleCurrentChange},null,8,["total","onSizeChange","onCurrentChange"])])),_:1})}t(7658);var m=t(6713),c=t.n(m),_=t(9775),y={data(){return{dialog:!1,loading:!1,job_title:{},pagination:{page:1,size:10},search:"",jobs:[],editor:c(),editorConfig:{}}},mounted(){this.$store.dispatch("dictionary/getCountries"),this.$store.dispatch("dictionary/getIndustries"),this.$store.dispatch("company/getCompanyBranches"),this.$store.dispatch("dictionary/getDepartments"),this.$store.dispatch("company/getEmploymentTypes"),this.$store.dispatch("company/getJobTitles"),this.getAllJobs()},computed:{job_titles(){if(this.loading=!0,void 0!=this.$store.state.company.job_titles)return this.loading=!1,this.$store.state.company.job_titles}},methods:{edit(e){this.job_title=e,this.dialog=!0},application(e){localStorage.setItem("position",JSON.stringify(e)),this.$router.push("/applications")},handleCurrentChange(e){this.pagination.page=e,this.getAllJobs()},handleSizeChange(e){this.pagination.size=e,this.getAllJobs()},getAllJobs(){this.loading=!0,_.Z.getAllJobs({company_id:this.job_title.company_id,page:this.pagination.page,size:this.pagination.size,search:this.search}).then((e=>{this.jobs=e.data,this.pagination.meta=e.meta,this.loading=!1}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))},submit(e){this.$refs[e].validate((e=>{if(!e)return!1;this.loading=!0,this.$store.dispatch("company/saveJobTitle",this.job_title).then((e=>{this.job_title={},this.$store.dispatch("company/getJobTitles"),this.dialog=!1,this.loading=!1,this.$notify({title:"Success",message:e.data.message,type:"success"})}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))}))},deleteJobTitle(e){confirm("Do you really want to delete this record?")&&this.$store.dispatch("company/deleteJobTitle",e).then((e=>{this.$store.dispatch("company/getJobTitles"),this.$notify({title:"Success",message:e.data.message,type:"success"})})).catch((e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$notify({title:"Error",message:this.message,type:"error"})}))}}},w=t(89);const g=(0,w.Z)(y,[["render",p]]);var f=g}}]);
//# sourceMappingURL=113.4af29ff3.js.map